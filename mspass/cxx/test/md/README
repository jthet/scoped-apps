To verify this code is working correctly run the following:
./test_md > testthis.out
diff testthis.out test_md.out

This should show no differences.
